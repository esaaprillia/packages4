include $(TOPDIR)/rules.mk

PKG_NAME:=python-astroid
PKG_VERSION:=3.3.6
PKG_RELEASE:=1

PKG_MAINTAINER:=Andy Syam <privasisource@gmail.com>
PKG_LICENSE:=GPL-2.0
PKG_LICENSE_FILES:=LICENSE

PYPI_NAME:=astroid
PKG_HASH:=6aaea045f938c735ead292204afdb977a36e989522b7833ef6fea94de743f442

PKG_BUILD_DEPENDS:=python3/host python-build/host python-installer/host python-wheel/host

include ../pypi.mk
include $(INCLUDE_DIR)/package.mk
include ../python3-package.mk

define Package/python3-astroid
  SUBMENU:=Python
  SECTION:=lang
  CATEGORY:=Languages
  TITLE:=An abstract syntax tree for Python with inference support.
  URL:=https://pylint.readthedocs.io/projects/astroid/en/latest/
  DEPENDS:=+python3 +python3-typing-extensions
endef

define Package/python3-astroid/description
The aim of this module is to provide a common base representation of python source code. It is currently the library powering pylintâ€™s capabilities.
It provides a compatible representation which comes from the _ast module. It rebuilds the tree generated by the builtin _ast module by recursively walking down the AST and building an extended ast. The new node classes have additional methods and attributes for different usages. They include some support for static inference and local name scopes. Furthermore, astroid can also build partial trees by inspecting living objects.
endef

$(eval $(call Py3Package,python3-astroid))
$(eval $(call BuildPackage,python3-astroid))
$(eval $(call BuildPackage,python3-astroid-src))
